
######################################################################################################
# M106 - because apparently you can only have one part cooling fan in klipper
######################################################################################################

[gcode_macro M106]
gcode:
    {% set S = params.S|float %}

    {% if S > 0.0 %}
      {% set S = 1.0 %}
    {% endif %}

    {% if S <= 0.0 %}
      {% set S = 0.0 %}
    {% endif %}

    SET_PIN PIN=part_fan0 VALUE={S}
    SET_PIN PIN=part_fan1 VALUE={S}
